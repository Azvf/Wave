# 规则维护与注意事项

> 📖 **文档索引**: 返回 [AI 辅助开发规范文档索引](../文档索引.md)

## 主要挑战与建议

### 规则维护成本

- **挑战**: 规则文件可能过时，架构变更时未同步更新会导致 AI 生成错误代码
- **建议**: 将规则维护纳入 Code Review 流程，架构变更时同步更新规则

### 规则的"过时"风险

- **挑战**: 规则文件需要随架构变更同步更新，但开发者往往只改代码不改规则。一旦 `.mdc` 文件中的 `Implementation Patterns` 与实际代码库脱节，AI 会持续生成旧版本的代码
- **建议**: 
  - 引入"Rule Linter"或在 CI/CD 流程中增加检查，确保规则文件中的示例代码至少语法正确
  - 定期强制 Review 规则文件，确保与实际代码库保持一致

### 拦截器的误杀

- **挑战**: 依赖于 AI 的理解能力，可能在不需拦截的地方拒绝工作
- **建议**: 明确定义"逃生舱"机制，提供清晰的错误提示和绕过方法

### 新人认知负载

- **挑战**: 开发者需要掌握特定的语义关键词（如 `Pure Logic`, `RPC`, `Trace:`），对新人有一定记忆门槛
- **建议**: 
  - 为团队开发 VS Code / Cursor 的 Snippets 插件（如输入 `/fix` 自动展开为 `Hotfix:`）
  - 提供快速参考卡片（Cheat Sheet），降低记忆负担

### 通用性 vs. 专用性

- **挑战**: 文档标榜为"通用规范"，但使用了 `.cursorrules` 等 Cursor 专用术语。如果团队切换 IDE（如 Windsurf 或 Copilot），需要迁移成本
- **建议**: 
  - 核心思想（上下文管理、分级 CoT）是通用的，可适配不同 AI 辅助工具
  - 考虑将规则核心逻辑抽离为纯 Markdown 文档，以适配不同的工具平台

## 查漏补缺清单

在设计完规则后，必须检查：共享目录归属、根目录配置、模块的二元性（UI Hooks vs. 业务 Hooks）、测试文件归属、文档文件归属。

## 提示词工程微技巧

1. **引用即链接**: 提到文档时使用相对路径，让 IDE 可以点击或索引
2. **Recency Effect**: 将最重要的禁令放在规则文件底部，就在 AI 开始写代码之前
3. **语义化触发词**: 在规则文件的 `description` 中堆砌关键词（Trigger Words），提高命中率

---

**相关文档**:
- [架构策略](./架构策略.md) - 模块化与关注点分离
- [交互协议](./交互协议.md) - 标准化与特权分级
- [质量控制](./质量控制.md) - 思维链协议与防御性编程
- [治理模式](./治理模式.md) - 通用治理模式

