# 国际化指南

**核心原则：单一真理源 (SSOT) · 类型安全 (Type-Safe) · AI 辅助 (AI-Assisted)**

## 基础集成

**规则**: 使用 `flutter_localizations` 和 `arb` 文件管理多语言。

**实现**:
- 引入 `flutter_localizations` 包
- 创建 `l10n/` 目录存放 `arb` 文件
- 使用 `flutter gen-l10n` 自动生成代码

**文件结构**:
```
l10n/
├── app_en.arb    # 英文
├── app_zh.arb    # 中文
└── app_ja.arb    # 日文
```

## ARB 文件管理

**规则**: 所有用户可见文本必须定义在 `arb` 文件中，严禁硬编码。

**格式示例**:
```json
{
  "@appName": {
    "description": "应用名称",
    "type": "String"
  },
  "appName": "My App",
  "welcomeMessage": "Welcome, {userName}",
  "@welcomeMessage": {
    "placeholders": {
      "userName": {
        "type": "String"
      }
    }
  }
}
```

## 使用方式

**代码中使用**:
```dart
Text(AppLocalizations.of(context)!.appName)
Text(AppLocalizations.of(context)!.welcomeMessage('John'))
```

## RTL 布局支持

**规则**: 支持从右向左（RTL）语言（如阿拉伯语、希伯来语）。

**实现**: Flutter 自动处理 RTL，但需要确保布局使用 `Directionality` 或 `TextDirection`。

## AI 翻译工作流（可选）

**流程**:
1. 提取硬编码字符串到 `arb` 文件
2. 使用 AI 工具批量翻译
3. 人工审核关键文案

详见: [设计常量](./设计常量.md) | [ThemeExtension](./ThemeExtension.md)

