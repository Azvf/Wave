# 无障碍设计

**核心原则：焦点管理 (Focus Management) · 语义化 (Semantic) · 视觉可达性 (Visual Accessibility)**

## 焦点管理

**模态框 (Modals)**:
- **Trap (捕获)**: 打开模态框时，焦点必须被限制在模态框内部循环
- **Restore (还原)**: 关闭模态框后，焦点必须自动还原到触发它的按钮上
- **Initial (初始)**: 打开时，焦点默认停留在第一个可操作元素（通常是输入框）或关闭按钮上

**下拉菜单 (Dropdowns)**:
- 支持 `ArrowUp` / `ArrowDown` 在选项间移动
- `Enter` 选中，`ESC` 关闭并返回焦点给触发器

## 语义化结构

**交互元素**:
- 严禁使用 `GestureDetector` 替代 `InkWell` 或 `ElevatedButton`
- 如果必须使用非标准元素，必须显式添加 `Semantics` Widget

**视觉隐藏**:
- 使用 `Semantics` 的 `label` 属性为仅图标按钮提供文本标签

## ARIA 契约

**状态同步**:
- 任何自定义组件的状态变化必须反映在 `Semantics` 属性上
- 使用 `Semantics` 的 `checked`、`selected`、`expanded` 等属性

## 视觉可达性

**对比度**:
- 所有文本与背景的对比度必须符合 **WCAG AA** 标准（至少 4.5:1）
- 特别注意深色模式下的次级文本

**非颜色依赖**:
- 错误状态不能仅靠颜色（红色）区分，必须辅以图标或文字说明

详见: [键盘优先](./键盘优先.md) | [鼠标交互](./鼠标交互.md)

